<!DOCTYPE html>
<html lang="pt-br">
	<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Uma página que tem como o objetivo encriptar uma informação com base na cifra de César">
    <meta name="keywords" content="criptografia, encriptação, cifra de cesar, segurança da informação, TI">
    <meta name="theme-color" content="#EEFF41">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700">
    <link rel="stylesheet" href="css/reset.min.css">
    <link rel="stylesheet" href="css/main.css">
		<title>Cifra de César</title>
	</head>
	<body>
    <header id="main-header">
      <div class="wrap">
        <h1 class="logo">Cesificator</h1>
        <div class="input-container">
          <span class="input-icon">
            <i class="material-icons">menu</i>
          </span>
          <input type="text" class="input" placeholder="Digite uma palavra ou frase para criptografar">
        </div>
      </div>
    </header>

		<div class="main">
			<section>
				<article>
					<header>
						<h2>Criptografia com base na Cifra de César</h2>
						<legend>Digite uma frase ou palavra que deseja ocultar através da Cifra de César</legend>
					</header>
						<script type="text/javascript">
							function desabilita()
			           		{
			           			var valor=document.getElementById('frase').value;
			           			var range=document.getElementById('interval');
			           			if(valor!="")
			           				range.removeAttribute('disabled');
			           			else if(valor!=null)
			           				range.removeAttribute('disabled');
			           		}
						</script>
					
						<fieldset>
							<legend>Digite aqui sua palavra ou frase:</legend>
							<input type="text" id="word" onInput="desabilita();" name="frase" autocomplete autofocus>
						</fieldset>
						<fieldset>
							<legend>Escolha um valor entre 1 e 26:</legend>
							<span id="label_in">0</span>
							<input type="range" id="interval" onInput="exibeRange(); encriptar();" name="intervalo" min="1" max="26" disabled>
						</fieldset>
						<fieldset>
							<button onClick="encriptar();">Encriptar</button>
						</fieldset>
					 
		           <script type="text/javascript">
		           		function exibeRange()
		           		{
		           			var input = document.getElementById('interval');
		           			var valor = parseInt(input.value);
		           			document.getElementById('label_in').innerHTML=valor;
		           		}

			           	function comparar(x,y)
			            {
			            	var caractere = new Array('-', '_', ',', '.', ';', '!', '@', '#', '$', '%', '¨', '&', '*', '(', ')', '+', '=', '[', ']', '{', '}', '~', '^', '\\', '|', '´', '`', '§', 'ª', 'º');
			                var alfabeto = new Array('a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z');
			                alfabeto.sort();
			                if(x == 'é' || x == 'ê')
		                		x = 'e';
		                	else if(x == 'á' || x == 'à' || x == 'â')
		                		x = 'a';
		                	else if(x == 'í')
		                		x = 'i';
		                	else if(x == 'ó' || x == 'ô')
		                		x = 'o';
		                	else if(x == 'ú')
		                		x = 'u';
		                	else if(x == 'ç')
		                		x = 'c';
			                var limite = alfabeto.length;
			            	var indice = alfabeto.indexOf(x.toLowerCase());
			            	var diferenca = limite-indice;

			                for(var i = 0; i < limite; i++)
			                {
			                	for(var j=0; j<caractere.length; j++)
			                	{
			                		if(x==caractere[j])
			                			return ' ';
			                	}
			                	
			                	if(x == '' || x == ' ') 
			                		return x;
			                	else if(diferenca<=y)
			                		return alfabeto[y-diferenca];
			                	else
				                	return alfabeto[indice + y];
			                }
			            }

			            function encriptar()
			            {
			              	var frase = document.getElementById('word').value;
			              	var intervalo = parseInt(document.getElementById('interval').value);

			                var fraseSplitted = frase.split("");
			                var novaFrase = new Array(fraseSplitted.length);

			                for(i = 0; i < fraseSplitted.length; i++)
			                {
			                	novaFrase[i] = comparar(fraseSplitted[i], intervalo);
			                }
			                var resultado = novaFrase.join("");

			                document.getElementById("cript").innerHTML = 'Resultado: ' + resultado;
			            }

			            function revelar()
			            {
			            	alert(document.getElementById('word').value);
			            }
		            </script>
					
					<footer>
						<p id="cript"></p>
						<button onClick="location.reload();">Tentar novamente</button>
					</footer>
				</article>
			</section>
			<footer>Copyright 2015</footer>
		</div>
	</body>
</html>